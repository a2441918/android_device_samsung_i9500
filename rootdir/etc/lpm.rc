on early-init
	start ueventd

on init
# Permissions for CPU Governor	
    chown system system /sys/devices/system/cpu/cpu0/cpufreq/scaling_governor
    chmod 0664 /sys/devices/system/cpu/cpu0/cpufreq/scaling_governor
    chown system system /sys/devices/system/cpu/cpu0/cpufreq/scaling_max_freq
    chmod 0664 /sys/devices/system/cpu/cpu0/cpufreq/scaling_max_freq
    chown system system /sys/devices/system/cpu/cpu0/cpufreq/scaling_min_freq
    chmod 0664 /sys/devices/system/cpu/cpu0/cpufreq/scaling_min_freq

# Permissions for GPU DVFS
	chown radio system /sys/devices/platform/pvrsrvkm.0/sgx_dvfs_min_lock
	chown radio system /sys/devices/platform/pvrsrvkm.0/sgx_dvfs_max_lock
	chown radio system /sys/devices/platform/pvrsrvkm.0/sgx_dvfs_table
	chmod 0660 /sys/devices/platform/pvrsrvkm.0/sgx_dvfs_min_lock
	chmod 0660 /sys/devices/platform/pvrsrvkm.0/sgx_dvfs_max_lock
	chmod 0660 /sys/devices/platform/pvrsrvkm.0/sgx_dvfs_table

# Permissions for Exynos 5 BUS
	chown radio system /sys/class/devfreq/exynos5-busfreq-mif/min_freq
	chown radio system /sys/class/devfreq/exynos5-busfreq-mif/max_freq
	chown radio system /sys/class/devfreq/exynos5-busfreq-mif/freq_table
	chmod 0660 /sys/class/devfreq/exynos5-busfreq-mif/min_freq
	chmod 0660 /sys/class/devfreq/exynos5-busfreq-mif/max_freq
	chmod 0660 /sys/class/devfreq/exynos5-busfreq-mif/freq_table

# Set CPU governor to powersave
	write /sys/devices/system/cpu/cpu0/cpufreq/scaling_governor ondemand
	
# Limit mix/max CPU/GPU/BUS frequencies
	write /sys/devices/system/cpu/cpu0/cpufreq/scaling_min_freq 250000
	write /sys/devices/system/cpu/cpu0/cpufreq/scaling_max_freq 250000

	write /sys/devices/system/cpu/cpufreq/iks-cpufreq/min_freq 250000
	write /sys/devices/system/cpu/cpufreq/iks-cpufreq/max_freq 250000

	write /sys/devices/platform/pvrsrvkm.0/sgx_dvfs_max_lock 266

	write /sys/class/devfreq/exynos5-busfreq-mif/max_freq 800000

# Do not enable boost mode
	write /sys/class/thermal/thermal_zone0/boost_mode 0

# EHCI runtime enable for LPA
	write /sys/devices/platform/s5p-ehci/power/control auto

# Do not set any USB mode while charging
	setprop sys.usb.config charging

# Reduce and Lock Screen Brightness
	chown system system /sys/class/backlight/panel/brightness
	write /sys/class/backlight/panel/brightness 10
	chmod 0444 /sys/class/backlight/panel/brightness

# Required by KNOX bootloader
on charger
	class_start core
	setprop sys.usb.config none

# Required by KNOX-free bootloader
on boot
	class_start core
	setprop sys.usb.config none

# Reduce and Lock Screen Brightness while charging
	chown system system /sys/class/backlight/panel/brightness
	write /sys/class/backlight/panel/brightness 10
	chmod 0444 /sys/class/backlight/panel/brightness

###
# Daemon processes to be run by init.
###

service ueventd /sbin/ueventd
	class core
	critical

service charger /charger
	class core
	user root
